<div class = "script-detail__wrapper w-full h-full px-20 py-4 flex flex-row">
  <div class = "order-2 sm:order-1 w-3/4 p-4">
    <div class = "script-information p-2 bg-gray-800">
      <h1 class = "script-title text-xl"><b>{{current.name}}</b></h1>
      <div class = "flex flex-row name-value-pair text-sm">
        <label class = "script-field-name">Author: </label><p class = "script-field-value">{{current.author}}</p>
      </div>
      
      <div class = "flex flex-row name-value-pair text-sm">
        <label class = "script-field-name">Board game: </label><p class = "script-field-value">{{boardGameName}}</p>
      </div>
      
      <div class = "flex flex-row name-value-pair text-sm">
        <label class = "script-field-name">Release date: </label><p class = "script-field-value">{{formatDate(current.release)}}</p>
      </div>
      
      <div class = "flex flex-row name-value-pair text-sm">
        <label class = "script-field-name">Size: </label><p class = "script-field-value">{{convertBytes(current.size)}}</p>
      </div>
      
      <div class = "flex flex-row name-value-pair text-sm">
        <label class = "script-field-name">Downloads: </label><p class = "script-field-value">{{current.downloads}}</p>
        <label *ngIf="current.lastdownload!==null" class = "script-field-name" style="margin-left:120px">Last downloads: </label><p *ngIf="current.lastdownload!==null" class = "script-field-value">{{formatDate(current.lastdownload)}}</p>
      </div>
      
      <div class = "text-sm name-value-pair">
        <label class = "script-field-name">Description: </label>
        <p class = "script-field-value mt-2" style = "margin-left: 0px;">{{current.description}}</p>
      </div>
      
    </div>

    <div class = "script-comments p-2 bg-gray-800 mt-4">
      <p (click) = "toggleComments()" class = "script-comment-counter text-md cursor-pointer hover:underline hover:underline-offset-2">{{numberOfComments}} Comment{{ numberOfComments === 1 ? "" : "s"}}</p>
      <board-game-companion-app-comment-section *ngIf = "showComments" (incrementCommentCounter) = "incrementCommentCounter()" [currentScript]="current" ></board-game-companion-app-comment-section>
    </div>
  </div>
  
  <div class = "order-1 w-1/4 p-4 sm:order-2">
    
    <div class = "script-cover p-2 mb-4 bg-gray-800 relative">
      <div class = "script-cover-header p-1 mb-2"><b>Cover</b></div>
      <img [src]="current.icon" class = "w-full" style="height:16rem">

      <div *ngIf = "voterCount !== 0" class = "absolute right-0 left-0 bottom-0 h-20" style = "background-color:rgba(0,0,0,0.5)">
        <ul class="w-full h-10 p-2 space-x-1 text-center">
          <i class="fas fa-star fa-sm" [ngClass] = "{'text-orange-500':averageRating >= 1,'text-white':averageRating < 1}"></i>
          <i class="fas fa-star fa-sm" [ngClass] = "{'text-orange-500':averageRating >= 2,'text-white':averageRating < 2}"></i>
          <i class="fas fa-star fa-sm" [ngClass] = "{'text-orange-500':averageRating >= 3,'text-white':averageRating < 3}"></i>
          <i class="fas fa-star fa-sm" [ngClass] = "{'text-orange-500':averageRating >= 4,'text-white':averageRating < 4}"></i>
          <i class="fas fa-star fa-sm" [ngClass] = "{'text-orange-500':averageRating >= 5,'text-white':averageRating < 5}"></i>
        </ul>  
        <div class = "w-full h-10 text-xs text-center text-white">
          {{voterCount}} user{{voterCount === 1 ? "":"s"}}
        </div>      
      </div>
    </div>
    
    <div class = "script-download p-2 mb-4 bg-gray-800 text-center">
      <div class = "script-download-header p-1 mb-2 j text-left"><b>Download</b></div>
      <button type="button" class="hover:opacity-80 hover:scale-105 w-11/12 text-white inline-block px-2 py-2.5 font-medium text-xs leading-tight uppercase rounded transition duration-150 ease-in-out">
        <i class="fas fa-download text-white fa-3x"></i>
        <p class = "text-lg"><b>DOWNLOAD</b></p>
      </button>
    </div>


    <div class = "script-rate p-2 bg-gray-800 text-center">
      <div class = "script-rate-header p-1 mb-4 text-left"><b>Rate</b></div>

      <ul class="w-full h-10 p-2 mb-2 space-x-1">
        <i (click)="rateScript(1)" class="fas fa-star fa-2xl hover:text-orange-300" [ngClass] = "{'text-orange-500':rate.value>=1,'text-white':rate.value < 1}"></i>
        <i (click)="rateScript(2)" class="fas fa-star fa-2xl hover:text-orange-300" [ngClass] = "{'text-orange-500':rate.value>=2,'text-white':rate.value < 2}"></i>
        <i (click)="rateScript(3)" class="fas fa-star fa-2xl hover:text-orange-300" [ngClass] = "{'text-orange-500':rate.value>=3,'text-white':rate.value < 3}"></i>
        <i (click)="rateScript(4)" class="fas fa-star fa-2xl hover:text-orange-300" [ngClass] = "{'text-orange-500':rate.value>=4,'text-white':rate.value < 4}"></i>
        <i (click)="rateScript(5)" class="fas fa-star fa-2xl hover:text-orange-300" [ngClass] = "{'text-orange-500':rate.value>=5,'text-white':rate.value < 5}"></i>
      </ul>
    </div>
  </div>
</div>
