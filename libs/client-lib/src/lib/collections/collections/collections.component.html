<div class = "row mt-2 w-4/5 mx-auto">
    <div id = "board-games" class = "offset-sm-2 col-sm-10 flex flex-row mb-2 p-1 " style = "border:1px solid black">
        <div (click) = "back()" class = "back h-20 text-gray-600 cursor-pointer" style = "border:1px solid cyan" [style.width.%] = '4'>
            
        </div>
        <div class = "middle h-20 space-x-2 p-1 flex flex-row" style = "border:1px solid red" [style.width.%] = '92'>
            <div *ngFor = "let count of digits.slice(carouselPage * maxGames,(carouselPage + 1) * maxGames)" class = "board-game h-full rounded-sm relative" [] = "{'border-2':selectedGame === value}" [style.width.%] = "widthPerGame" style = "border:1px solid green">
                {{count}}

                <div class = "board-game-black-screen absolute bottom-0 right-0 left-0 top-0 w-full z-10 text-center text-white text-base" style = "background-color:rgba(0,0,0,0.5)">
                    <div class = "w-full absolute bottom-8 content-center space-x-4 text-xs">
                        name
                    </div>
                </div>
            </div>
        </div>
        <div (click) = "next()" class = "forward h-20 text-gray-600 cursor-pointer" style = "border:1px solid maroon" [style.width.%] = '4'>
                       
        </div>
    </div>
    <div id = "collections" class = "col-sm-2 p-1" style = "border:1px solid orange">
        <div data-bs-toggle="modal" data-bs-target="#create-collection" class = "new-collection text-white font-medium text-center cursor-pointer rounded-sm px-1 py-1.5 mb-4"> 
            <i class="fas fa-plus"></i>
        </div>

        <div *ngFor = "let value of collections" class = "collection rounded-sm overflow-hidden text-white text-center cursor-pointer font-medium flex flex-row">
            <div class = "collection-name h-full w-4/5 bg-inherit py-1.5 border-r-2 text-xs">
                {{value.name}}
            </div>
            <div (click) = "removeCollection(value)" class = "collection-remove h-full w-1/5 text-xs text-white py-1.5 hover:bg-red-700">
                <i class="fas fa-times"></i>
            </div>
        </div>
    </div>
    <div id = "scripts" class = "col-sm-10" style = "border:1px solid magenta">
        <div class = "row">
            <div class = "col-sm-12 mt-1 mb-2">
                <div class="input-group relative w-full">
                    <input (keypress)="checkSearchOnEnter($event)" [(ngModel)] = "searchTerm" name = "searchTerm" type = "search" class="search-input form-control relative flex-auto min-w-0 block w-full px-2 py-1 text-sm font-normal text-gray-700 bg-white bg-clip-padding border-solid transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:outline-none" placeholder="add" aria-label="add" aria-describedby="add-input">
                    <button (click) = "search()" class="search-btn btn inline-block px-3 py-1 text-white font-medium text-xs leading-tight uppercase shadow-sm hover:shadow-sm focus:outline-none focus:ring-0 transition duration-150 ease-in-out flex items-center" type="button" id="button-addon2">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
            <div class = "col-sm-3 col-xs-6 mt-2" *ngFor="let value of filter | paginate: { itemsPerPage: 8, currentPage: page }">
                <div [id] = "value._id" class="parent relative rounded-md xs:h-32 sm:h-32 md:h-40 lg:48 max-h-48 overflow-hidden">
                    <span class = "absolute right-0 top-0 mr-2 mt-1 text-white text-xs">{{'v' + value.version.major + '.' + value.version.minor + '.' + value.version.patch}}</span>   
                    <img class="w-full h-full" [src]="value.icon.location" alt=""/>
                    
                    <div id="child" class = "child absolute bottom-0 right-0 left-0 top-0 w-full z-10 text-center text-white text-base" style = "background-color:rgba(0,0,0,0.5)">
                        <span class = "absolute right-0 top-0 mr-2 mt-1 text-white text-xs">{{'v' + value.version.major + '.' + value.version.minor + '.' + value.version.patch}}</span> 
                        <div class = "w-full absolute bottom-20 content-center space-x-4">
                            <button (click)="showInfo(value)" class="hover:scale-110 p-1 text-white">
                                <i class="fas fa-info-circle" data-toggle="tooltip" title="profile"></i>
                            </button>
                            <button *ngIf = "!downloaded.includes(value._id)" (click)="download(value)" class="hover:scale-110 p-1 text-white">
                                <i *ngIf = "!downloading.includes(value._id)" class="fas fa-download" data-toggle="tooltip" title="download"></i>
                                <i *ngIf = "downloading.includes(value._id)" class="fas fa-spinner fa-pulse" data-toggle="tooltip" title="downloading"></i>
                            </button>
                            <button *ngIf = "value.export && showImports.includes(value._id)" (click)="showInfo(value)" class="hover:scale-110 p-1 text-white">
                                <i *ngIf = "!importing.includes(value._id)"  class="fas fa-file-import" data-toggle="tooltip" title="import"></i>
                                <i *ngIf = "importing.includes(value._id)" class="fas fa-spinner fa-pulse" data-toggle="tooltip" title="importing"></i>
                            </button>
                        </div>
                        <p class = "absolute bottom-0 h-8 text-center w-full"><b>{{value.name}}</b></p>
                    </div>
                </div>
            </div> 
        </div>
    </div>
</div>

<board-game-companion-app-create-collection (createCollectionEvent)="newCollection($event)"></board-game-companion-app-create-collection>
<board-game-companion-app-notification></board-game-companion-app-notification>